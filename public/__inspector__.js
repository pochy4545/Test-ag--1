(function(){'use strict';let a=!1,b=null,c=null,d=null,e=null,f=null,g=null,h=null;function i(){if(d)return;d=document.createElement('div');d.id='__inspector__';d.style.cssText='position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:999999;';document.body.appendChild(d);e=document.createElement('div');e.style.cssText='position:fixed;border:1px dashed #60a5fa;background:rgba(96,165,250,0.05);pointer-events:none;display:none;';d.appendChild(e);f=document.createElement('div');f.style.cssText='position:fixed;border:2px solid #3b82f6;background:rgba(59,130,246,0.08);pointer-events:none;display:none;';d.appendChild(f);g=document.createElement('div');g.style.cssText='position:fixed;background:#3b82f6;color:white;padding:3px 8px;font-size:11px;font-family:monospace;font-weight:500;border-radius:4px;pointer-events:none;display:none;white-space:nowrap;box-shadow:0 2px 8px rgba(0,0,0,0.2);';d.appendChild(g);h=document.createElement('div');h.style.cssText='position:fixed;background:#1f2937;border-radius:8px;padding:6px;display:none;gap:4px;pointer-events:auto;box-shadow:0 4px 20px rgba(0,0,0,0.4);';[{i:'âœï¸',a:'edit-text'},{i:'ðŸŽ¨',a:'edit-style'},{i:'ðŸ“‹',a:'copy'},{i:'ðŸ—‘ï¸',a:'delete'}].forEach(x=>{const btn=document.createElement('button');btn.innerHTML=x.i;btn.style.cssText='width:32px;height:32px;border:none;background:transparent;color:white;cursor:pointer;border-radius:4px;font-size:14px;';btn.onmouseenter=()=>btn.style.background='#374151';btn.onmouseleave=()=>btn.style.background='transparent';btn.onclick=ev=>{ev.stopPropagation();q(x.a)};h.appendChild(btn)});d.appendChild(h)}function j(el){if(!el||el===b||!e){if(e)e.style.display='none';return}const r=el.getBoundingClientRect();Object.assign(e.style,{display:'block',left:r.left+'px',top:r.top+'px',width:r.width+'px',height:r.height+'px'})}function k(el){if(!el){if(f)f.style.display='none';if(g)g.style.display='none';if(h)h.style.display='none';return}const r=el.getBoundingClientRect();Object.assign(f.style,{display:'block',left:r.left+'px',top:r.top+'px',width:r.width+'px',height:r.height+'px'});const tag=el.tagName.toLowerCase();const id=el.id?'#'+el.id:'';const cls=el.className&&typeof el.className==='string'?'.'+el.className.trim().split(/\s+/).slice(0,2).join('.'):'';g.textContent=tag+id+cls+' â€¢ '+Math.round(r.width)+'Ã—'+Math.round(r.height);Object.assign(g.style,{display:'block',left:r.left+'px',top:Math.max(0,r.top-26)+'px'});Object.assign(h.style,{display:'flex',left:r.left+'px',top:(r.bottom+8)+'px'})}function l(el){if(!el)return null;const r=el.getBoundingClientRect();const cs=getComputedStyle(el);const styles={};['display','position','width','height','margin','padding','background','backgroundColor','color','fontSize','fontWeight','flexDirection','justifyContent','alignItems','gap','borderRadius'].forEach(p=>{const v=cs.getPropertyValue(p.replace(/[A-Z]/g,m=>'-'+m.toLowerCase()));if(v&&v!=='none'&&v!=='normal'&&v!=='auto')styles[p]=v});const classes=el.className&&typeof el.className==='string'?el.className.split(/\s+/).filter(Boolean):[];const tw=classes.filter(c=>/^(flex|grid|block|hidden|w-|h-|p-|m-|text-|bg-|border-|rounded-|shadow-|gap-|justify-|items-)/.test(c));return{tagName:el.tagName.toLowerCase(),id:el.id||null,className:el.className||'',classes,tailwindClasses:tw,textContent:(el.textContent||'').trim().substring(0,200),styles,dimensions:{x:r.left,y:r.top,width:r.width,height:r.height},path:m(el),isEditable:['p','h1','h2','h3','h4','h5','h6','span','div','a','button','li','label'].includes(el.tagName.toLowerCase())}}function m(el){const parts=[];let cur=el;while(cur&&cur!==document.body){let s=cur.tagName.toLowerCase();if(cur.id){parts.unshift('#'+cur.id);break}const sibs=cur.parentElement?.children||[];const idx=Array.from(sibs).indexOf(cur);if(sibs.length>1)s+=':nth-child('+(idx+1)+')';parts.unshift(s);cur=cur.parentElement}return parts.join(' > ')}function q(action){if(!b)return;switch(action){case'edit-text':const orig=b.innerHTML;b.contentEditable='true';b.focus();b.style.outline='2px solid #3b82f6';const done=()=>{b.contentEditable='false';b.style.outline='';if(b.innerHTML!==orig)o('text-changed',{path:m(b),old:orig,new:b.innerHTML})};b.onblur=done;b.onkeydown=ev=>{if(ev.key==='Escape'){b.innerHTML=orig;b.blur()}if(ev.key==='Enter'&&!ev.shiftKey){ev.preventDefault();b.blur()}};break;case'edit-style':o('open-panel',l(b));break;case'copy':navigator.clipboard.writeText(b.outerHTML);break;case'delete':const info=l(b);b.remove();b=null;k(null);o('deleted',info);break}}function n(ev){if(!a||p(ev.target))return;c=ev.target;j(ev.target)}function r(){c=null;j(null)}function s(ev){if(!a||p(ev.target))return;ev.preventDefault();ev.stopPropagation();b=ev.target;c=null;j(null);k(ev.target);o('selected',l(ev.target))}function t(ev){if(!a||!b)return;if(ev.key==='Escape'){b=null;k(null);o('deselected',null)}if(ev.key==='Delete'&&ev.target===document.body){ev.preventDefault();q('delete')}}function p(el){return!el||(el.id||'').startsWith('__inspector')||el.closest('#__inspector__')}function o(type,data){window.parent.postMessage({type:'inspector:'+type,data},'*')}function u(ev){const{type,data}=ev.data||{};if(!type)return;switch(type){case'inspector:activate':v();break;case'inspector:deactivate':w();break;case'inspector:update-style':if(b&&data?.property){b.style[data.property]=data.value;k(b);o('style-updated',l(b))}break;case'inspector:update-class':if(b&&data?.className!==undefined){b.className=data.className;k(b);o('class-updated',l(b))}break;case'inspector:update-text':if(b&&data?.text!==undefined){b.textContent=data.text;o('text-updated',l(b))}break}}function v(){if(a)return;a=!0;i();const style=document.createElement('style');style.id='__inspector_style__';style.textContent='body,body *{cursor:crosshair!important}';document.head.appendChild(style);document.addEventListener('mouseover',n,!0);document.addEventListener('mouseout',r,!0);document.addEventListener('click',s,!0);document.addEventListener('keydown',t,!0);o('activated',null)}function w(){if(!a)return;a=!1;document.removeEventListener('mouseover',n,!0);document.removeEventListener('mouseout',r,!0);document.removeEventListener('click',s,!0);document.removeEventListener('keydown',t,!0);const style=document.getElementById('__inspector_style__');if(style)style.remove();if(d){d.remove();d=null}e=f=g=h=null;b=c=null;o('deactivated',null)}window.addEventListener('message',u);window.addEventListener('scroll',()=>{if(b)k(b)},{passive:!0});window.addEventListener('resize',()=>{if(b)k(b)},{passive:!0});o('ready',{version:2});console.log('[Inspector] Ready')})();
